---
import BaseLayout from '../layouts/BaseLayout.astro';
import BaseIndex from '../components/pages/BaseIndex.astro';
import { getLanguageFromURL } from '../utils/i18n';
import { getHomeTranslations } from '../utils/translations';
import type { SupportedLanguage } from '../types/i18n';

const pageTitle = 'Home';

// Get the current language from URL (defaults to 'en' for homepage)
const language = (getLanguageFromURL(Astro.url.pathname) || 'en') as SupportedLanguage;

// Get translations for the current language
const t = getHomeTranslations(language);

// Page description for SEO and social sharing
const pageDescription = t.pageDescription;

// Set language info for BaseLayout
const i18nData = {
  currentLang: language,
};
---

<BaseLayout
  pageTitle={pageTitle}
  showNotACookieBannerAutomatically={true}
  description={pageDescription}
  i18nData={i18nData}
>
  <BaseIndex language={language} />
</BaseLayout>
