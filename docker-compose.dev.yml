services:
  app:
    environment:
      - DATABASE_PATH=/app/data/main.db
      - NODE_ENV=development
    volumes:
      - app_data_dev:/app/data

  nginx:
    ports:
      - "80:80"
    volumes:
      - ./nginx/dev.conf:/etc/nginx/conf.d/default.conf:ro
      - nginx_cache_dev:/var/cache/nginx # Add Docker volume for cache
    environment:
      - ENVIRONMENT=dev

volumes:
  nginx_cache_dev:
    driver: local
  app_data_dev:
    driver: local
